(()=>{"use strict";var e,t={354:(e,t,n)=>{var o=n(964),a=n(888);const r=new o.Pq0,i=new o.Pq0;let s=!1,d=!1,l=!1,c=!1;const w=document.getElementById("keyA"),p=document.getElementById("keyS"),m=document.getElementById("keyD"),h=document.getElementById("keyW"),u=e=>{e.style.transform="translateY(5px)",e.style.boxShadow="inset -8px 0 8px rgba(0,0,0,0.15), inset 0 -8px 8px rgba(0,0,0,0.25), 0 0 0 0px rgba(0,0,0,0.75), 5px 15px 20px rgba(0,0,0,0.4)"},y=e=>{e.style.transform="translateY(0)",e.style.boxShadow="inset -8px 0 8px rgba(0,0,0,0.15), inset 0 -8px 8px rgba(0,0,0,0.25), 0 0 0 0px rgba(0,0,0,0.75), 10px 20px 25px rgba(0,0,0,0.4)"};document.addEventListener("keydown",(e=>{switch(e.key.toLowerCase()){case"a":u(w),l=!0;break;case"s":u(p),d=!0;break;case"d":u(m),c=!0;break;case"w":u(h),s=!0}})),document.addEventListener("keyup",(e=>{switch(e.key.toLowerCase()){case"a":y(w),l=!1;break;case"s":y(p),d=!1;break;case"d":y(m),c=!1;break;case"w":y(h),s=!1}}));var g=n(318),x=n(74),b=n(558);const f=new o.Z58;f.background=new o.Q1f(0);const v=new o.ubm(70,window.innerWidth/window.innerHeight,.1,1e3);v.position.set(0,1.3,1),v.lookAt(0,1.3,-1);const k=new o.JeP({antialias:!0});k.setSize(window.innerWidth,window.innerHeight),k.setPixelRatio(window.devicePixelRatio),k.shadowMap.enabled=!0;const E=new x.B;E.setSize(window.innerWidth,window.innerHeight),E.domElement.style.position="absolute",E.domElement.style.top="0px",E.domElement.style.pointerEvents="none",document.body.appendChild(E.domElement);const z=document.getElementById("spinner"),S=document.getElementById("blocker"),P=document.getElementById("loading-text");let I=0;const O=setInterval((function(){I=(I+1)%4,P&&(P.textContent="Loading"+".".repeat(I))}),500);!function(){f.add(new o.$p8(16777215,.2));const e=new o.ZyN(16777215,.5);e.position.set(1,5,0),e.target.position.set(0,0,0),e.castShadow=!0,e.shadow.camera.top=.78,e.shadow.camera.bottom=-.7,e.shadow.camera.left=-1.8,e.shadow.camera.right=1,e.shadow.camera.near=.1,e.shadow.camera.far=6,e.shadow.mapSize.width=4096,e.shadow.mapSize.height=4096,e.shadow.bias=-.005,e.shadow.normalBias=.05,f.add(e.target),f.add(e)}();const _=new g.Z(v,k.domElement);f.add(_.getObject());const C=document.createElement("div");let L;C.id="click-to-play-overlay",C.style.position="absolute",C.style.top="0",C.style.left="0",C.style.width="100%",C.style.height="100%",C.style.backgroundColor="rgba(0, 0, 0, 0.3)",C.style.color="white",C.style.display="flex",C.style.justifyContent="center",C.style.alignItems="center",C.style.zIndex="0",C.style.fontSize="24px",C.style.cursor="pointer",C.textContent="Click to Play",document.body.appendChild(C),C.addEventListener("click",(()=>{_.isLocked||(_.lock(),L&&L.play())})),_.addEventListener("lock",(()=>{C.style.display="none"})),_.addEventListener("unlock",(()=>{C.style.display="flex"}));const j=document.createElement("div");j.style.color="white",j.textContent="$SHITsim";const B=new x.v(j);B.position.set(0,1,0),f.add(B);const M=(new b.p).setTranscoderPath("/textures/tile/").detectSupport(k);function W(e){return new Promise(((t,n)=>{M.load(e,(e=>{e.wrapS=e.wrapT=o.GJx,e.repeat.set(25,25),e.anisotropy=k.capabilities.getMaxAnisotropy(),t(e)}),void 0,(t=>{console.error(`Error loading texture ${e}:`,t),n(t)}))}))}Promise.all([Promise.all([W("./textures/tile/T_uegoehgfw_4K_B.ktx2"),W("./textures/tile/T_uegoehgfw_4K_N.ktx2"),W("./textures/tile/T_uegoehgfw_4K_H.ktx2"),W("./textures/tile/T_uegoehgfw_4K_ORM.ktx2")]),new Promise(((e,t)=>{(new a.B).load("/models/FINALKRWWWW.gltf",(t=>{const n=t.scene,a=t.animations,r=new o.Iw4(n);a.length>0&&r.clipAction(a[0]).play(),n.traverse((e=>{e instanceof o.eaF&&(e.castShadow=!0,e.receiveShadow=!0,e.frustumCulled=!1)})),n.position.set(0,0,0),n.scale.set(1,1,1),f.add(n);const i=new o.zD7;!function e(){const t=i.getDelta();r.update(t),requestAnimationFrame(e)}(),e()}),void 0,(e=>{console.error("Error loading the model:",e),t(e)}))})),new Promise(((e,t)=>{const n=new Audio("/audio/sound.mp3");n.addEventListener("canplaythrough",(()=>{e(n)}),!1),n.addEventListener("error",(e=>{console.error("Error loading audio:",e),t(e)}),!1),n.load()}))]).then((([[e,t,n,a],r,i])=>{const s=new o._4j({map:e,normalMap:t,displacementMap:n,displacementScale:0,aoMap:a});!function(e){const t=A(80,80,e,new o.Pq0(0,0,0),new o.O9p(-Math.PI/2,0,0));f.add(t)}(s),function(e){const t=A(80,80,e,new o.Pq0(0,2.5,0),new o.O9p(Math.PI/2,0,0));f.add(t)}(s),L=i,S&&(S.style.display="none"),z&&(z.style.display="none"),clearInterval(O)})).catch((e=>{console.error("Error loading resources:",e)}));const H=new o.zD7;function A(e,t,n,a,r){const i=new o.bdM(e,t,512,512),s=new o.eaF(i,n);return s.position.copy(a),s.rotation.copy(r),s.receiveShadow=!0,s}document.body.appendChild(k.domElement),function e(){requestAnimationFrame(e);const t=H.getDelta();if(H.getElapsedTime(),_.isLocked){r.x-=10*r.x*t,r.z-=10*r.z*t,i.z=Number(s)-Number(d),i.x=Number(c)-Number(l),i.normalize();const e=50;(s||d)&&(r.z-=i.z*e*t),(l||c)&&(r.x-=i.x*e*t),_.moveRight(-r.x*t),_.moveForward(-r.z*t);const n=_.getObject().position;n.x=o.cj9.clamp(n.x,-.5,.45),n.z=o.cj9.clamp(n.z,.2,1.5)}k.render(f,v),E.render(f,v)}(),window.addEventListener("resize",(function(){v.aspect=window.innerWidth/window.innerHeight,v.updateProjectionMatrix(),k.setSize(window.innerWidth,window.innerHeight),E.setSize(window.innerWidth,window.innerHeight)})),function(){const e=new o.HiM(16777215,.7,2);e.position.set(0,1,1),e.shadow.mapSize.width=1024,e.shadow.mapSize.height=1024,e.shadow.camera.near=.1,e.shadow.camera.far=4,e.shadow.bias=-.005,e.shadow.normalBias=.05,f.add(e),new o.F1l(e,1)}()}},n={};function o(e){var a=n[e];if(void 0!==a)return a.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,o),r.exports}o.m=t,e=[],o.O=(t,n,a,r)=>{if(!n){var i=1/0;for(c=0;c<e.length;c++){for(var[n,a,r]=e[c],s=!0,d=0;d<n.length;d++)(!1&r||i>=r)&&Object.keys(o.O).every((e=>o.O[e](n[d])))?n.splice(d--,1):(s=!1,r<i&&(i=r));if(s){e.splice(c--,1);var l=a();void 0!==l&&(t=l)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,a,r]},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={792:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var a,r,[i,s,d]=n,l=0;if(i.some((t=>0!==e[t]))){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);if(d)var c=d(o)}for(t&&t(n);l<i.length;l++)r=i[l],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(c)},n=self.webpackChunkthreejs_example=self.webpackChunkthreejs_example||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=o.O(void 0,[585],(()=>o(354)));a=o.O(a)})();